{% extends 'user/account/index.html' %}
{% load two_factor i18n inboxen_account bootstrap %}

{% block navigation %}
    {% account_menu 'user-security' %}
{% endblock %}

{% block form %}
<p>{% blocktrans %}
    Backup tokens can be used when your usual method isn't available. The backup
    tokens below can be used for login verification. If you've used up all your
    backup tokens, you can generate a new set of backup tokens. Only the backup
    tokens shown below will be valid.
{% endblocktrans %}</p>
    <table class="table table-striped table-honeydew">
        {% for token in device.token_set.all %}
            <tr><td>{{ token.token }}</td></tr>
        {% empty %}
            <tr><td><i>{% trans "You don't have any backup codes yet." %}</i></td></tr>
        {% endfor %}
    </table>
    <p>{% blocktrans %}Keep these tokens somewhere safe.{% endblocktrans %}</p>
<form method="post" action="{% url 'user-twofactor-backup' %}">
    {% csrf_token %}
    {{ form|bootstrap }}
    <a href="{% url 'user-security'%}" class="btn btn-default">{% trans "Back" %}</a>
    <button class="btn btn-primary" type="submit">{% trans "Generate Tokens" %}</button>
</form>
{% endblock %}
